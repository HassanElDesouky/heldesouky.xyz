<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      Disjoint-set union data structure in C++ and Swift &middot; Hassan ElDesouky
    
  </title>
  
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="alternate" type="application/rss+xml" title="Hassan ElDesouky" href="/feed.xml">
  
    <script>
  // Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-84722092-1', 'auto');
  ga('set', 'anonymizeIp', true)
  ga('send', 'pageview');
</script>

  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    <a class="site-title" href="/">Hassan ElDesouky</a>
  
    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
            <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
            <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
          </svg>
        </span>
      </label>

      <div class="trigger">
        <a href="/" class="page-link active">Blog</a>
        <a href="/projects" class="page-link ">Projects</a>
        <a href="/archive" class="page-link ">Archive</a>
        <a href="/about" class="page-link ">About</a>
      </div>
    </nav>
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div id="sidebar">
  <h1 style="font-size: 21px;">Hassan ElDesouky</h1>
  <p>Computer Science Student and an Apple Developer</p>

  
<div id="story-available">
  <img 
    src="https://graph.facebook.com/100003817967579/picture?type=large"
    id="storyProfilePicture"
    onclick="showStories()"
  />
</div>

<div id="storyViewer">
  <div id="storyViewerDimmedBackground" onclick="dismissStories()"></div>
  <div id="storyContent">
    <div id="storyHeader">
      <img 
        id="storyHeaderProfilePicture"
        onclick="window.open('https://instagram.com/hassanedesouky', '_blank')"
      />
      <p id="storyUserlink"><a href="https://instagram.com/hassanedesouky" target="_blank">hassanedesouky</a></p>
      <p id="storyTimestamp"></p>
      <p id="poweredByInstapipe"><a href="https://instapipe.net" target="_blank">instapipe.net</a></p>
    </div>
    <div id="storyProgressBar"></div>
    <div id="storyBackButton" class="storyButton" onclick="userDidClickPreviousStory()">
      <
    </div>
    <div id="storyNextButton" class="storyButton" onclick="userDidClickNextStory()">
      >
    </div>

    <video autoplay playsinline muted id="storyVideoViewer">
    </video>
    <div id="storyPhotoViewer" onclick="userDidClickNextStory()">
    </div>
  </div>
  <img src="" id="fakeContentToPreloadImages" />
</div>

<script type='text/javascript'>
let host = "https://instapipe.herokuapp.com/"
let userId = "1376312608"

var storiesToShow = null;
var timeOutForPhotos = 4.0;
var storyProgressSpacing = 5;
var progressPadding = 2;
var progressBars = null;
var storiesContent = null;

var nextStoryTimeout = null;
var currentIndex = -1;

function preloadStoriesIndex() {
  var url = host + "stories.json?user_id=" + userId;

  var xmlHttp = new XMLHttpRequest();
  xmlHttp.onreadystatechange = function() { 
    if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
      storiesContent = JSON.parse(xmlHttp.responseText)
      if (storiesContent.length == 0) {
        // Default it's shown, as it looks nicer
        // and I post stories most days :joy:
        document.getElementById("story-available").className += "story-not-available"
      } else {
        // preload the first story if it's a picture
        if (!storiesContent[0]["is_video"]) {
          document.getElementById("fakeContentToPreloadImages").src = storiesContent[0]["signed_url"]
        }
      }
    }
  };

  xmlHttp.open("GET", url, true); // true = asynchronous 
  xmlHttp.send(null);
}

function showStories() {
  if (storiesContent == null || storiesContent.length == 0) {
    return;
  }

  // Copy the profile picture URL to the story header, to only have to define it once
  // we only do that once everything is loaded, as depending on the website
  // the image node might not be acccessible yet
  let profileImageURL = document.getElementById("storyProfilePicture").src
  document.getElementById("storyHeaderProfilePicture").src = profileImageURL;

  storiesToShow = []
  progressBars = []

  document.getElementById("storyViewer").style.display = "block"

  for (let storyIndex in storiesContent) {
    let currentStory = storiesContent[storyIndex]
    storiesToShow.push(currentStory)
  }

  for (let currentStoryIndex in storiesToShow) {
    let currentStory = storiesToShow[currentStoryIndex]

    // Append the progress items
    var progressBarBackground = document.createElement("div")
    progressBarBackground.className = "storyProgressBarItemBg"
    progressBarBackground.style.width = "calc(" + (1.0 / storiesToShow.length) * 100 + "%" + " - " + progressPadding * 2 + "px)"
    progressBarBackground.style.marginRight = progressPadding + "px"
    progressBarBackground.style.marginLeft = progressPadding + "px"
    document.getElementById("storyProgressBar").appendChild(progressBarBackground)

    var progressBarForeground = document.createElement("div")
    progressBarForeground.style.width = "0%"
    progressBarForeground.className = "storyProgressBarItemFg"
    progressBarBackground.appendChild(progressBarForeground)

    progressBars.push(progressBarForeground)
  }

  currentIndex = 0
  renderCurrentStory()

  var xmlHttp = new XMLHttpRequest();
  xmlHttp.onreadystatechange = function() {}
  xmlHttp.open("GET", host + "didOpenStories", true); // true = asynchronous 
  xmlHttp.send(null);
}

function renderCurrentStory() {
  currentStory = storiesToShow[currentIndex]
  
  for (let index in progressBars) {
    let currentProgressBar = progressBars[index]
    if (currentIndex > index) {
      currentProgressBar.style.width = "100%"
    } else {
      currentProgressBar.style.width = "0%"
    }
  }

  // Show image/video
  let videoViewer = document.getElementById("storyVideoViewer")
  let photoViewer = document.getElementById("storyPhotoViewer")
  let progressBarContent = progressBars[currentIndex]

  document.getElementById("storyTimestamp").textContent = currentStory["formatted_time_diff"]

  if (currentStory["is_video"]) {
    videoViewer.src = currentStory["signed_url"]
    videoViewer.style.display = "block"
    videoViewer.onended = function() {
      if (currentIndex < storiesToShow.length - 1) {
        currentIndex++;
        renderCurrentStory();
      } else {
        dismissStories();
      }
    };
    let videoUpdatedDuration = function() {
      // this is triggered when the video file was loaded
      // videos have dynamic length
      animateProgressBar(progressBarContent, videoViewer.duration)
      videoViewer.removeEventListener("durationchange", videoUpdatedDuration)
    }
    videoViewer.addEventListener("durationchange", videoUpdatedDuration)
    videoViewer.load()
    videoViewer.play()
    photoViewer.style.display = "none"
  } else {
    photoViewer.style.backgroundImage = "url('" + currentStory["signed_url"] + "')"
    videoViewer.style.display = "none"
    photoViewer.style.display = "block"
    animateProgressBar(progressBarContent, timeOutForPhotos) // photos are always x seconds

    // Advance to next story after X seconds
    nextStoryTimeout = setTimeout(function() {
      if (currentIndex < storiesToShow.length - 1) {
        currentIndex++;
        renderCurrentStory();
      } else {
        dismissStories();
      }
    }, timeOutForPhotos * 1000)
  }

  // Trigger the next one
  if (currentIndex < storiesToShow.length - 1 && !storiesToShow[currentIndex + 1]["is_video"])
  {
    setTimeout(function() {
      // Poor person's pre-loading of images, with a slight delay
      document.getElementById("fakeContentToPreloadImages").src = storiesToShow[currentIndex + 1]["signed_url"]
    }, timeOutForPhotos / 3.0 * 1000)
  }
}

function animateProgressBar(progressBar, duration) {
  progressBar.style.animationName = "storyViewProgress";
  progressBar.style.animationDuration = duration + "s";
}

function userDidClickPreviousStory() {
  if (currentIndex > 0) {
    stopAllAnimations()
    currentIndex--;
    renderCurrentStory();
  } else {
    dismissStories();
  }
}

function userDidClickNextStory() {
  if (currentIndex < storiesToShow.length - 1) {
    stopAllAnimations()
    currentIndex++;
    renderCurrentStory();
  } else {
    dismissStories();
  }
}

function stopAllAnimations() {
  clearTimeout(nextStoryTimeout)
  document.getElementById("storyVideoViewer").onended = null

  for (let index in progressBars) {
    let currentProgressBar = progressBars[index]
    currentProgressBar.style.animationName = null
  }
}

function dismissStories() {
  document.getElementById("storyViewer").style.display = "none"
  document.getElementById("storyProgressBar").innerHTML = ""
  stopAllAnimations()
}

window.addEventListener("keyup", function(e) {
  if (e.keyCode == 27) { // ESC
    dismissStories()
    return true;
  }
  if (e.keyCode == 37) { // Left
    userDidClickPreviousStory();
  }
  if (e.keyCode == 39) { // Right
    userDidClickNextStory();
  }
}, false);

preloadStoriesIndex();

</script>
<style type='text/css'>
#storyProfilePicture {
  width: 128px;
  height: 128px;
  border-radius: 70px;
  margin-left: 3px;
  margin-top: 3px;
  cursor: pointer;
  border: 4px solid white;
}

#story-available {
  background-image: linear-gradient(rgb(186, 62, 138), #fba051);
  height: 142px;
  width: 142px;
  z-index: -10;
  border-radius: 70px;
  margin-bottom: 15px;
}

#story-available.story-not-available {
  background-image: none !important;
}

#storyViewer {
  height: 100%;
  width: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  text-align: center;
  display: none;

  font-family: 'Helvetica Neue', sans-serif;
  font-weight: normal;
}
#storyViewer > #storyViewerDimmedBackground {
  /* This is a separate div to allow onclick events */
  background-color: rgba(0, 0, 0, 0.8);
  height: 100%;
  width: 100%;
  z-index: -1;
  position: absolute;
}

#storyViewer p {
  color: #686868;
  font-size: 20px;
  line-height: 24px;
  margin: 0 0 24px;
  text-align: center;
  text-justify: inter-word;
}

#storyViewer > #storyContent {
  width: 512px;
  max-width: 80%; /* for mobile devices */
  margin-top: 30px;
  display: inline-block;

  /* 
    To get the right aspect ratio, while still having a dynamic content size
    https://stackoverflow.com/questions/1495407/maintain-the-aspect-ratio-of-a-div-with-css
    IG content: 910px height to 512px width = ~178%
    So the `padding-bottom` sets the height of the content
  */
  padding-bottom: 178%;
}

#storyViewer > #storyContent > .storyButton {
  position: fixed;
  top: calc(910px - 450px);
  background-color: rgba(200, 200, 200, 0.88);
  padding: 10px;
  color: rgba(0, 0, 0, 0.8);
  font-weight: bolder;
  font-size: 16px;
  border-radius: 18px;
  width: 20px;
  height: 20px;
  text-align: center;
  cursor: pointer;
}

#storyViewer > #storyContent > #storyBackButton {
  left: 50px;
}

#storyViewer > #storyContent > #storyNextButton {
  right: 53px; /* no idea where the difference comes from */
}

#storyViewer > #storyContent > #storyPhotoViewer {
  width: 100%;
  padding-bottom: 178%; /* see comment in #storyContent */
  background-size: cover;
  background-repeat: no-repeat;
  background-position: 50% 50%;
}

#storyViewer > #storyContent > #storyVideoViewer {
  padding-bottom: 178%; /* see comment in #storyContent */
  width: 100%;
}

#storyViewer > #storyContent > #storyProgressBar {
  width: calc(100% + 4px);
  margin-left: -2px;
  height: 3px;
  margin-top: 10px;
  margin-bottom: 10px;
}

#storyViewer > #storyContent > #storyProgressBar > .storyProgressBarItemBg {
  border-radius: 6px;
  background-color: rgba(187, 187, 187, 0.6);
  height: 100%;
  display: inline-block;
  float: left;
}

.storyProgressBarItemFg {
  background-color: #FFF;
  height: 100%;
  border-radius: 3px;
  animation-timing-function: linear;
}

#fakeContentToPreloadImages {
  height: 0;
  width: 0;
  opacity: 0;
}

@keyframes storyViewProgress {
  from { width: 0%; }
  to { width: 100%; }
}

/* Story header */
#storyHeader {
  height: 50px;
  text-align: left;
}

#storyHeader > #storyHeaderProfilePicture {
  height: 38px;
  width: 38px;
  border-radius: 19px;
  cursor: pointer;
  margin-top: 7px;
  display: block-inline;
}

#storyHeader > #storyUserlink {
  display: block-inline;
  margin-left: 50px;
  text-align: left;
  margin-top: -40px; /* hacky */
  padding-top: 0;
  font-size: 20px;
}

#storyHeader > #storyUserlink > a {
  color: white !important;
  text-decoration: none;
}

#storyHeader > #storyTimestamp {
  color: #777;
  display: block-inline;
  margin-left: 50px;
  text-align: left;
  margin-top: -28px;
  padding-top: 0;
  font-size: 16px;
}

#storyHeader > #poweredByInstapipe {
  display: block-inline;
  margin-left: 150px;
  text-align: right;
  margin-top: -50px; /* hacky */
  padding-top: 0;
  font-size: 16px;
}

#storyHeader > #poweredByInstapipe > a {
  color: #999 !important;
  text-decoration: none;
}

</style>

  <p><a href="/about">More about me</a></p>

  <!-- Social links -->
  <ul class="social-media-list" style="margin-top: 20px; margin-bottom: 30px;">
    <li>
      <a href="https://github.com/hassaneldesouky" target="_blank"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">hassaneldesouky</span></a>

    </li>
    <li>
      <a href="https://stackoverflow.com/users/5025731"><span class="icon icon--linked"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="16px" height="16px" viewBox="-135 22 32 38" enable-background="new -135 22 190 38" xml:space="preserve">
    <g>
        <polygon fill="#BCBBBB" points="-108.5,56.2 -108.5,46.3 -105.2,46.3 -105.2,59.5 -135,59.5 -135,46.3 -131.7,46.3 -131.7,56.2       "/>
        <path fill="#F48024" d="M-128,45.4l16.2,3.4l0.7-3.2l-16.2-3.4L-128,45.4z M-125.9,37.6l15,7l1.4-3l-15-7L-125.9,37.6z     M-121.7,30.2l12.7,10.6l2.1-2.5l-12.7-10.6L-121.7,30.2z M-113.5,22.4l-2.7,2l9.9,13.3l2.7-2L-113.5,22.4z M-128.4,52.9h16.6    v-3.3h-16.6V52.9z"/>
    </g>
</svg>
</span><span class="username">hassaneldesouky</span></a>
    </li>
    <li>
      <a href="https://www.linkedin.com/in/hassaneldesouky"><span class="icon icon--linked"><svg width="16px" height="16px" viewBox="0 0 430.117 430.117" xml:space="preserve"><path id="LinkedIn" fill="#828282" d="M430.117,261.543V420.56h-92.188V272.193c0-37.271-13.334-62.707-46.703-62.707 c-25.473,0-40.632,17.142-47.301,33.724c-2.432,5.928-3.058,14.179-3.058,22.477V420.56h-92.219c0,0,1.242-251.285,0-277.32h92.21 v39.309c-0.187,0.294-0.43,0.611-0.606,0.896h0.606v-0.896c12.251-18.869,34.13-45.824,83.102-45.824 C384.633,136.724,430.117,176.361,430.117,261.543z M52.183,9.558C20.635,9.558,0,30.251,0,57.463 c0,26.619,20.038,47.94,50.959,47.94h0.616c32.159,0,52.159-21.317,52.159-47.94C103.128,30.251,83.734,9.558,52.183,9.558z M5.477,420.56h92.184v-277.32H5.477V420.56z"/></svg>
</span><span class="username">hassaneldesouky</span></a>

    </li>
    <li>
      <a href="https://twitter.com/hassanedesouky" target="_blank"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">hassanedesouky</span></a>

    </li>
    <li>
      <a href="https://instagram.com/hassanedesouky" target="_blank"><span class="icon icon--instagram"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
</span><span class="username">hassanedesouky</span></a>

    </li>
  </ul>

  <p class="subscribe-newsletter">
  Want to be the first to hear more about software engineering and Apple technologies related blogs?
</p>

<form class="subscribe-form" action="https://xyz.us19.list-manage.com/subscribe/post?u=145858a976462402b211db504&amp;id=5f723dd3d2" method="post" target="popupwindow" onsubmit="window.open('https://xyz.us19.list-manage.com/subscribe/post?u=145858a976462402b211db504', 'popupwindow', 'scrollbars=yes,width=600,height=620');return true">
  <label for="tlemail"></label>
  <input type="text" placeholder="Email Address" name="EMAIL" id="tlemail">
  <input type="hidden" value="1" name="embed">
  <button type="submit" name="subscribe">
    Subscribe
  </button>
</form>


  <hr />

  <div class='jekyll-twitter-plugin'><a class="twitter-timeline" data-width="500" data-tweet-limit="5" href="https://twitter.com/hassanedesouky?ref_src=twsrc%5Etfw">Tweets by hassanedesouky</a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>

</div>


        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline"><a href="/blog/Disjoint-set-union-data-structure-in-C-and-Swift">Disjoint-set union data structure in C++ and Swift</a></h1>
    <p class="post-meta">
      <time datetime="2019-04-10T00:00:00+00:00" itemprop="datePublished">
        
        Apr 10, 2019
      </time> &nbsp; | &nbsp; 
      <a href="https://github.com/hassaneldesouky/HassanElDesouky.github.io/edit/master/_posts/2019-04-10-Disjoint-set-union-data-structure-in-C---and-Swift.md" target="_blank" class="forkButton">
  <svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
 
  Edit on GitHub
</a>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2 id="disjoint-set-union-data-structure-in-c-and-swift">Disjoint-set union data structure in C++ and Swift</h2>

<p>Learn how to implement Disjoint-set union structure that’s used in the Kruskal Algorithm in order to solve the MST problem in an efficient way.</p>

<h3 id="disjoint-set-union-in-c-andswift">Disjoint-set union in C++ and Swift</h3>

<p><img src="https://cdn-images-1.medium.com/max/2560/1*BP0DnNz3z8eFtAEjPh0hIQ.png" alt="" /></p>

<p>Have you ever wondered, when you drive by your car, how your navigation system corrects the optimal route, from your current position to your destination, on changes based on the input data such as traffic jams and missed turns?</p>

<p>This is one of the real-time practical application of the <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">Minimum Spanning Tree (MST)</a> problem, in which an algorithm like <a href="https://en.wikipedia.org/wiki/Kruskal%27s_algorithm">Kruskal’s Algorithm</a> tries to solve. In this article, we will learn the main data structure that’s used in the Kruskal Algorithm in order to solve the <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">MST</a> problem in an efficient way.</p>

<p>In this article, we will be quickly going through:</p>

<ul>
  <li><strong>Introduction</strong></li>
  <li><strong>How it works</strong></li>
  <li><strong>Implementation in C++</strong></li>
  <li><strong>Implementation in Swift</strong></li>
  <li><strong>Conclusion</strong></li>
  <li><strong>Resources</strong></li>
</ul>

<p><a href="https://www.paypal.me/HassanElDesouky?locale.x=en_US"><img src="https://cdn-images-1.medium.com/max/800/1*4N4u_wPLkqco5f1S1sX5tA.png" alt="" /></a></p>

<h3 id="introduction">Introduction</h3>

<p>Imagine having a graph, like what’s in the following image. You are asked to make two queries really fast which are:</p>
<ol>
  <li><strong>unionSets</strong> i.e. merge two sets together.</li>
  <li><strong>isSameSet</strong> i.e. find wither the two nodes are in the same set or not.</li>
</ol>

<p><img src="https://cdn-images-1.medium.com/max/800/1*hXq3DML-zxTX06r4XVWq1A.jpeg" alt="" /></p>

<blockquote>
  <p>Image from <a href="https://csacademy.com/app/graph_editor/">https://csacademy.com/app/graph_editor/</a></p>
</blockquote>

<blockquote>
  <p>The Disjoint-set data structure allows us to very quickly determine if two items are in the same set (or equivalently determine if two vertices are in the same connected component), and also to very quickly unite two sets (or equivalently combine two connected components into one connected component).</p>
</blockquote>

<p>A <a href="http://en.wikipedia.org/wiki/Disjoint-set_data_structure"><em>union-find algorithm</em></a> is an algorithm that performs two useful operations on such a data structure:
<strong><em>Find:</em></strong> Determine which subset a particular element is in. This can be used for determining if two elements are in the same subset.
<strong><em>Union:</em></strong> Join two subsets into a single subset.</p>

<p><em>Union-Find Algorithm</em> can be used to check whether an undirected graph contains a cycle or not. This method assumes that the graph doesn’t contain any self-loops. And we can keep track of the subsets in a 1D array.</p>

<h3 id="how-itworks">How it works</h3>

<p>In the following graph, let’s find out buy this union-find algorithm wither this is graph has a cycle or not.</p>

<p><img src="https://cdn-images-1.medium.com/max/800/1*gm00EmWyu2TUIyW-T6PMKg.png" alt="" /></p>

<blockquote>
  <p>Image from <a href="https://csacademy.com/app/graph_editor/">https://csacademy.com/app/graph_editor/</a></p>
</blockquote>

<p>For each edge in this graph make subsets using both the vertices of the edge. If both the vertices are in the same subset, a cycle is found.</p>

<p>Then make a parent array and <a href="http://www.cplusplus.com/reference/cstring/memset/">memset</a> it to -1 (i.e. make -1 as the initial value for all of the array). Then process all of these edges one by one.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 0  1  2 --&gt; the nodes.
 -1 -1 -1 --&gt; the parent array.
</code></pre></div></div>

<p><img src="https://cdn-images-1.medium.com/max/800/1*y9QAemdoHXZOS4wmQeiCLw.jpeg" alt="" /></p>

<blockquote>
  <p>Image from <a href="http://visualgo.net">http://visualgo.net</a></p>
</blockquote>

<p><em>Edge 0–1:</em> Find the subsets in which vertices 0 and 1 are. Since they are in different subsets, we take the union of them. For taking the union, either make node 0 as the parent of node 1 or vice-versa.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 0  1  2 --&gt; the nodes. 
 1 -1 -1 --&gt; node number 1 is the parent of node 0.
</code></pre></div></div>
<iframe src="https://giphy.com/embed/5C0eKLOyPygejPR4Y6" width="600" height="102" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe>
<blockquote>
  <p>From <a href="http://visualgo.net">http://visualgo.net</a></p>
</blockquote>

<p><em>Edge 1–2:</em> 1 is in subset 1 and 2 is in subset 2. So, take union.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0  1  2 --&gt; the nodes.
1  2 -1 --&gt; node number 2 is the parent of node 1.
</code></pre></div></div>
<iframe src="https://giphy.com/embed/fjxOSwRWU888BAZqkJ" width="600" height="102" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe>
<blockquote>
  <p>From <a href="http://visualgo.net">http://visualgo.net</a></p>
</blockquote>

<p><em>Edge 0–2:</em> 0 is in subset 2 and 2 is also in subset 2.</p>

<iframe src="https://giphy.com/embed/5e20yAmVFFQkoY0W8v" width="600" height="102" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe>
<blockquote>
  <p>From <a href="http://visualgo.net">http://visualgo.net</a></p>
</blockquote>

<p>Thus, including this edge forms a cycle.</p>

<h3 id="implementation">Implementation</h3>

<h4 id="in-c">In C++</h4>

<p>Let’s start with creating a new class and call it DSU. If you are familiar with C++, your class will have a <em>.h</em> and a <em>.cpp</em> files.</p>

<p><img src="https://cdn-images-1.medium.com/max/800/1*hOuUXfHqaCjMRtCQ39yrxg.jpeg" alt="" /></p>

<p>We will create the <em>parent</em> array and the <em>sz</em> array dynamically, also we will need a private method to get the parent of the current node, and finally, in the private members’ section, we will need a swap method.</p>

<p>In the public members’ section, we need a <em>constructor</em> that will take the size of our graph, <em>unionSets</em> method to merge two sets together, <em>isSameSet</em> method to find out wither the two nodes are in the same set or not, and finally, of course, we need a <em>destructor.</em></p>

<script src="https://gist.github.com/HassanElDesouky/d48ed90ac9ecfcd11e4e9bed9f024659.js"></script>

<p>While implementing those methods, start with the <strong>find_parent()</strong>.
The idea here is to save the parent of the nodes in the parent array, therefore when you need this information it will give you the info in an amortized O(1) complexity rather than O(n).</p>

<p>In <strong>same_set()</strong> method we will just compare the parent of both nodes. If they match then they are in the same set. Finally, in <strong>union_sets()</strong> method, you will find the parent for both nodes then union them. If they aren’t in the same set.</p>

<script src="https://gist.github.com/HassanElDesouky/051cab79c6a3fae68e952e6fa65902fb.js"></script>

<p>The constructor will fill the parent array with the number of nodes starting from <em>0</em> to <em>n.</em></p>

<h4 id="in-swift">In Swift</h4>

<p>Create a new Swift Playground, then create a class call it DSU. In this step, I’ll be converting the C++ code to Swift. I quickly came up with something very similar.</p>

<script src="https://gist.github.com/HassanElDesouky/669f11e337b43e679865d1d8a9a28bb9.js"></script>

<p>Note, I needed to change properties in place so I used the <em>inout</em>keyword for the function’s parameters.</p>

<blockquote>
  <p>All parameters passed into a Swift function are <em>constants</em>, so you can’t change them. If you want, you can pass in one or more parameters as <code class="highlighter-rouge">inout</code>, which means they can be changed inside your function, and those changes reflect in the original value outside the function.</p>
</blockquote>

<p>All of the code in this article is on my GitHub.</p>

<p><a href="https://github.com/HassanElDesouky/DisjointSetUnion" title="https://github.com/HassanElDesouky/DisjointSetUnion"><strong>HassanElDesouky/DisjointSetUnion</strong></a><a href="https://github.com/HassanElDesouky/DisjointSetUnion"></a></p>

<h3 id="conclusion">Conclusion</h3>

<p>This data structure is used by the <a href="https://en.wikipedia.org/wiki/Boost_Graph_Library" title="Boost Graph Library">Boost Graph Library</a> to implement its <a href="http://www.boost.org/libs/graph/doc/incremental_components.html">Incremental Connected Components</a> functionality. It is also a key component in implementing <a href="https://en.wikipedia.org/wiki/Kruskal%27s_algorithm" title="Kruskal's algorithm">Kruskal’s algorithm</a> to find the <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree" title="Minimum spanning tree">minimum spanning tree</a> of a graph.</p>

<p>I had fun playing with it and solving some <a href="https://en.wikipedia.org/wiki/Minimum_spanning_tree">MST</a> problems in C++, and I really learned a lot by just implementing this data structure. Therefore, I wanted to try implementing it in Swift.</p>

<p>Thanks for reading and I hope you had fun reading this article. If you have any thoughts please contact me over <a href="https://twitter.com/hassanedesouky">twitter</a>.</p>

<h3 id="resources">Resources</h3>

<p>You can read more about DSU from:</p>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Disjoint-set_data_structure">Disjoint-set data structure (Wikipedia)</a></li>
  <li><a href="https://www.mathblog.dk/disjoint-set-data-structure/">Disjoint-set data structure (MathBlog Article)</a></li>
  <li><a href="https://www.hackerearth.com/practice/data-structures/disjoint-data-strutures/basics-of-disjoint-data-structures/tutorial/">Basics of Disjoint Data Structures (Hackerearth Tutorial)</a></li>
  <li>I used <a href="https://csacademy.com/app/graph_editor/">https://csacademy.com/app/graph_editor/</a> for drawing the graphs and used <a href="http://visualgo.net">http://visualgo.net</a> to create the animations on the graphs.</li>
  <li><a href="https://www.hackingwithswift.com/sixty/5/10/inout-parameters">inout parameters (Hacking with swift)</a></li>
  <li>Thanks to <a href="https://github.com/Muhammad-Magdi">Muhammad Magdi</a> for helping out in the C++ implementation.</li>
</ul>

<p><a href="https://www.paypal.me/HassanElDesouky?locale.x=en_US"><img src="https://cdn-images-1.medium.com/max/800/1*8RA2giRIK2fXze7e57361Q.png" alt="" /></a></p>

<p>By <a href="https://medium.com/@hassaneldesouky">Hassan El Desouky</a> on <a href="https://medium.com/p/a52703b01fcb">April 10, 2019</a>.</p>

<p><a href="https://medium.com/@hassaneldesouky/disjoint-set-union-data-structure-in-c-and-swift-a52703b01fcb">Canonical link</a></p>


    <!-- <p style="margin-top: 30px" class="side-projects-note">
  <small>Unless otherwise mentioned in the post, those projects are side projects which I work on on weekends and evenings, and are not affiliated with my work or employer.</small>
</p>
 -->
  </div>

  <p class="extra-info">
    
      Tags: algorithm, data-structure, c++, swift &nbsp; | &nbsp; 
    
    <a href="https://github.com/hassaneldesouky/HassanElDesouky.github.io/edit/master/_posts/2019-04-10-Disjoint-set-union-data-structure-in-C---and-Swift.md" target="_blank" class="forkButton">
  <svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
 
  Edit on GitHub
</a>
  </p>
</article>

      </div>
    </main>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          <li>
            <a href="https://github.com/hassaneldesouky" target="_blank"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">hassaneldesouky</span></a>

          </li>
          <li>
            <a href="https://twitter.com/hassanedesouky" target="_blank"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">hassanedesouky</span></a>

          </li>
        </ul>
      </div>
      <div class="footer-col footer-col-2"></div>
      <div class="footer-col footer-col-3">
        <p class="subscribe-newsletter">
  Want to be the first to hear more about software engineering and Apple technologies related blogs?
</p>

<form class="subscribe-form" action="https://xyz.us19.list-manage.com/subscribe/post?u=145858a976462402b211db504&amp;id=5f723dd3d2" method="post" target="popupwindow" onsubmit="window.open('https://xyz.us19.list-manage.com/subscribe/post?u=145858a976462402b211db504', 'popupwindow', 'scrollbars=yes,width=600,height=620');return true">
  <label for="tlemail"></label>
  <input type="text" placeholder="Email Address" name="EMAIL" id="tlemail">
  <input type="hidden" value="1" name="embed">
  <button type="submit" name="subscribe">
    Subscribe
  </button>
</form>

      </div>
    </div>

  </div>
</footer>

<script type="text/javascript">
  var links = document.links;
  for (var i = 0, linksLength = links.length; i < linksLength; i++) {
    if (links[i].hostname != window.location.hostname) {
      links[i].target = '_blank';
    } 
  }
</script>


  </body>

</html>
